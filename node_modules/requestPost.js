var request = require ('request');

module.exports = function (url, postData, bodyCallback) {
	request ({
			url: url,
			method: 'POST',
			json: postData
		}, function (error, resp, body) {
                	if (!error && resp.statusCode == 200) {
                        	console.log ('STATUS 200 OK:\n' + "BODY:\n" + body);
				if (bodyCallback !== undefined)
					bodyCallback (body);
			} else
                        	console.log('error: ' + error + '\n'
                                	+ 'response.statusCode: ' + resp.statusCode + '\n'
                                	+ 'response.statusText: ' + resp.statusText + '\n');
 			
		}
	)	
}
